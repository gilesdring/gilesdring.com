{% assign containing_tag = "ol" %}
{% assign all_pages = site.pages | concat: site.documents %}
{% assign nav_pages = all_pages | where_exp: "item", "item.nav.order != null" | sort: "nav.order" %}
<nav class="top">
  <{{ containing_tag }}>
    {% for p in nav_pages -%}
    <li class="{% if page.title == p.title %}current{% endif %}">
      <a href="{{ p.url | relative_url }}">{{ p.nav.title | default: p.title }}</a>
    </li>
    {%- endfor %}
  </{{ containing_tag }}>
</nav>
